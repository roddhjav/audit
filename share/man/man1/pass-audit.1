.\" Automatically generated by Pandoc 2.17.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "pass-audit" "1" "March 2022" "" ""
.hy
.SH NAME
.PP
pass-audit \[em] A \f[I]pass\f[R](1) extension for auditing your
password repository.
.SH SYNOPSIS
.PP
\f[B]pass audit\f[R] [\f[I]options\&...\f[R]] [\f[I]pass-names\f[R]]
.SH DESCRIPTION
.PP
\f[B]pass audit\f[R] is a password-store extension for auditing your
password repository.
Passwords will be checked against the Python implementation of
Dropbox\[cq] \f[B]zxcvbn\f[R] algorithm and Troy Hunt\[cq]s \f[I]Have I
Been Pwned\f[R] Service.
It supports safe breached password detection from
\f[I]haveibeenpwned.com\f[R] using a \f[B]K-anonymity\f[R] method.
Using this method, you do not need to (fully) trust the server that
stores the breached password.
You should read the \f[I]SECURITY CONSIDERATION\f[R] section for more
information.
.SH COMMAND
.PP
\f[B]pass audit\f[R] [\f[I]options\&...\f[R]] [\f[I]pass-names\f[R]]
.TP
[\f[I]pass-names\f[R]]
Path(s) to audit in the password store, If empty audit the full store.
.TP
\f[V]--name=<name>\f[R], \f[V]-n <name>\f[R]
Check only passwords with this filename.
.TP
\f[V]--help\f[R], \f[V]-h\f[R]
Print the program usage.
.TP
\f[V]--verbose\f[R], \f[V]-v\f[R]
Be more verbose.
This option can be specified multiple times to set the verbosity level.
.TP
\f[V]--quiet\f[R], \f[V]-q\f[R]
Be quiet
.SH EXAMPLES
.SS Audit a subfolder for pwned passwords
.IP
.nf
\f[C]
pass audit goodpasswords/
(*) None of the 7 passwords tested are breached.
 .  But it does not means they are strong.
\f[R]
.fi
.IP
.nf
\f[C]
pass audit pwnedpasswords/
 w  Password breached: password from Password/pwned/5 has been breached 3303003 time(s).
 w  Password breached: correct horse battery staple from Password/pwned/2 has been breached 2 time(s).
[x] Error: 7 passwords tested and 2 breached passwords found.
 .  You should update them with \[aq]pass-update\[aq].
\f[R]
.fi
.SH SECURITY CONSIDERATION
.SS K-anonymity
.PP
This program uses K-anonymity to retrieve the knowledge of breached
passwords from HIBP server.
K-anonymity applied to breached password check on an untrusted remote
server is a recent cryptographic approach.
It means only the first five characters of the SHA1 hash of your
password is sent to the server.
It offers decent anonymity; nevertheless, it is not an entirely secure
solution.
.PP
\f[B]More reading:\f[R]
.IP \[bu] 2
https://www.troyhunt.com/ive-just-launched-pwned-passwords-version-2/
.IP \[bu] 2
https://blog.cloudflare.com/validating-leaked-passwords-with-k-anonymity/
.SS Mandatory Access Control (MAC)
.PP
AppArmor profiles for \f[I]pass\f[R] and \f[I]pass-audit\f[R] are
available in \f[B]apparmor.d\f[R].
If your distribution support AppArmor, you can clone the repository and
run:
.IP
.nf
\f[C]
sudo ./pick pass pass-import
\f[R]
.fi
.PP
to only install these AppArmor security profiles.
.SS Network
.PP
pass-audit only needs to establish network connection to connect to the
\f[I]haveibeenpwned.com\f[R] server.
.SS Password Update
.PP
You might also want to update the passwords imported using
\f[B]pass-update\f[R](1).
.SH SEE ALSO
.PP
\f[V]pass(1)\f[R], \f[V]pass-tomb(1)\f[R], \f[V]pass-update(1)\f[R],
\f[V]pass-otp(1)\f[R], \f[V]pimport(1)\f[R], \f[V]pass-import(1)\f[R]
.SH AUTHORS
pass audit was written by Alexandre Pujol (alexandre\[at]pujol.io).
